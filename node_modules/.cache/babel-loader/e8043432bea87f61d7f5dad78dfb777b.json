{"remainingRequest":"/Users/Horpey/Documents/Horpey/Project/Web Project/Ejoya Fund-Calculator/node_modules/babel-loader/lib/index.js!/Users/Horpey/Documents/Horpey/Project/Web Project/Ejoya Fund-Calculator/src/store/actions.js","dependencies":[{"path":"/Users/Horpey/Documents/Horpey/Project/Web Project/Ejoya Fund-Calculator/src/store/actions.js","mtime":1592854907773},{"path":"/Users/Horpey/Documents/Horpey/Project/Web Project/Ejoya Fund-Calculator/node_modules/cache-loader/dist/cjs.js","mtime":1586818197287},{"path":"/Users/Horpey/Documents/Horpey/Project/Web Project/Ejoya Fund-Calculator/node_modules/babel-loader/lib/index.js","mtime":1588973791351}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.regexp.search\";\nimport axios from \"axios\";\nvar baseURL = \"https://api.mybartty.com/api/\";\nexport var actions = {\n  fetchProducts: function fetchProducts(_ref) {\n    var commit = _ref.commit;\n    return new Promise(function (resolve, reject) {\n      axios({\n        url: baseURL + \"products\",\n        method: \"GET\"\n      }).then(function (resp) {\n        // console.log(resp.data.data.products)\n        commit(\"setProducts\", resp.data.data.products); //console.log(resp.data.data.products);\n\n        commit(\"setCategories\", resp.data.data.categories);\n        resolve(resp.data.data.products);\n      }).catch(function (err) {\n        console.log(err); // commit('apploading', false);\n\n        reject(err);\n      });\n    });\n  },\n  fetchVendorProductProducts: function fetchVendorProductProducts(_ref2, vendor) {\n    var commit = _ref2.commit;\n    return new Promise(function (resolve, reject) {\n      axios({\n        url: baseURL + \"products/\" + vendor,\n        method: \"GET\"\n      }).then(function (resp) {\n        // console.log(resp.data.data.products)\n        commit(\"setProducts\", resp.data.data.products); //console.log(resp.data.data.products);\n\n        commit(\"setCategories\", resp.data.data.categories);\n        resolve(resp.data.data.products);\n      }).catch(function (err) {\n        if (err.response) {\n          reject(err.response.status);\n        }\n\n        reject();\n      });\n    });\n  },\n  addProductToCart: function addProductToCart(context, product) {\n    context.commit(\"pushProductToCart\", product); // const cartItem = context.state.cart.find(item => item.id == product.id)\n    // // find cartItem\n    // if (!cartItem) {\n    //     // pushProduct Cart\n    //     context.commit('pushProductToCart', product)\n    // } else {\n    //     // incrementItemQuantity\n    //     context.commit('incrementItemQuantity', cartItem)\n    // }\n    // context.commit('decrementProductInventory', product)\n  },\n  searchProduct: function searchProduct(_ref3, product) {\n    var commit = _ref3.commit;\n    return new Promise(function (resolve, reject) {\n      console.log(product);\n      axios({\n        url: baseURL + \"products?search=\" + product,\n        method: \"GET\"\n      }).then(function (resp) {\n        // console.log(resp.data.data.products)\n        commit(\"setProducts\", resp.data.data.products);\n        resolve();\n      }).catch(function (err) {\n        if (err.response) {\n          reject(err.response.status);\n        }\n\n        reject();\n      });\n    });\n  },\n  searchVendorProduct: function searchVendorProduct(_ref4, vendorSearch) {\n    var commit = _ref4.commit;\n    return new Promise(function (resolve, reject) {\n      // console.log(vendorSearch);\n      axios({\n        url: baseURL + \"products/\" + vendorSearch.VendorName + \"?search=\" + vendorSearch.search,\n        method: \"GET\"\n      }).then(function (resp) {\n        // console.log(resp.data.data.products)\n        commit(\"setProducts\", resp.data.data.products);\n        resolve();\n      }).catch(function (err) {\n        if (err.response) {\n          reject(err.response.status);\n        }\n\n        reject();\n      });\n    });\n  },\n  filterProduct: function filterProduct(_ref5, category) {\n    var commit = _ref5.commit;\n    return new Promise(function (resolve, reject) {\n      axios({\n        url: baseURL + \"products?category=\" + category,\n        method: \"GET\"\n      }).then(function (resp) {\n        // console.log(resp.data.data.products)\n        commit(\"setProducts\", resp.data.data.products);\n        resolve();\n      }).catch(function (err) {\n        if (err.response) {\n          reject(err.response.status);\n        }\n\n        reject();\n      });\n    });\n  },\n  filterVendorProduct: function filterVendorProduct(_ref6, vendorFilter) {\n    var commit = _ref6.commit;\n    return new Promise(function (resolve, reject) {\n      axios({\n        url: baseURL + \"products/\" + vendorFilter.VendorName + \"?category=\" + vendorFilter.category,\n        method: \"GET\"\n      }).then(function (resp) {\n        // console.log(resp.data.data.products)\n        commit(\"setProducts\", resp.data.data.products);\n        resolve();\n      }).catch(function (err) {\n        if (err.response) {\n          reject(err.response.status);\n        }\n\n        reject();\n      });\n    });\n  },\n  removeCartItem: function removeCartItem(context, productID) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      console.log(productID);\n      var newCart = context.state.cart.filter(function (product) {\n        return product.product.id !== productID;\n      });\n      console.log(newCart);\n      context.state.cart = newCart;\n\n      _this.commit('saveData'); // this.$store.commit(\"resetProductCart\", newCart);\n\n    });\n  },\n  changeQuantity: function changeQuantity(context, productDet) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      // console.log(productDet)\n      var productid = productDet.productID; //Find index of specific object using findIndex method.    \n\n      var objIndex = context.state.cart.findIndex(function (product) {\n        return product.product.id == productid;\n      }); //Log object to Console.\n      // console.log(\"Before update: \", context.state.cart[objIndex])\n      //Update object's name property.\n\n      context.state.cart[objIndex].quantity = productDet.quantity;\n\n      _this2.commit('saveData'); // this.$store.commit(\"resetProductCart\", newCart);\n\n    });\n  },\n  checkout: function checkout(_ref7) {\n    var commit = _ref7.commit,\n        getters = _ref7.getters;\n    return new Promise(function (resolve, reject) {\n      // console.log(getters.cartProducts)\n      // let prepareCheckout = getters.cartProducts.map(item => item.product.uuid);\n      var prepareCheckout = getters.cartProducts.map(function (item) {\n        var container = {};\n        container.uuid = item.product.uuid;\n        container.quantity = item.quantity;\n        return container;\n      });\n      var cartProduct = {\n        cart: prepareCheckout\n      }; // cartProduct.append('cart', prepareCheckout);\n\n      axios({\n        url: baseURL + 'checkout/prepare',\n        data: cartProduct,\n        method: 'POST'\n      }).then(function (resp) {\n        // console.log(resp)\n        console.log(resp.data.data);\n        commit('checkoutData', resp.data.data);\n        resolve(resp);\n      }).catch(function (err) {\n        if (err.response) {\n          reject(err.response.status);\n        }\n\n        reject();\n      });\n    });\n  },\n  completeCheckout: function completeCheckout(_ref8, completeCheck) {\n    var commit = _ref8.commit,\n        getters = _ref8.getters;\n    return new Promise(function (resolve, reject) {\n      // console.log(completeCheck)\n      axios({\n        url: baseURL + 'checkout',\n        data: completeCheck,\n        method: 'POST'\n      }).then(function (resp) {\n        // console.log(resp)\n        // console.log(resp.data.data)\n        resolve(resp);\n      }).catch(function (err) {\n        if (err.response) {\n          // console.log(err.response)\n          reject(err.response);\n        }\n\n        reject();\n      });\n    });\n  },\n  cancelPayment: function cancelPayment(_ref9, token) {\n    var commit = _ref9.commit;\n    return new Promise(function (resolve, reject) {\n      var tokenData = new FormData();\n      tokenData.append('token', token);\n      axios({\n        url: baseURL + 'payment/cancel',\n        data: tokenData,\n        method: 'POST'\n      }).then(function (resp) {\n        resolve(resp);\n      }).catch(function (err) {\n        reject();\n      });\n    });\n  },\n  confirmPayment: function confirmPayment(_ref10, confirmaPayCart) {\n    var commit = _ref10.commit,\n        getters = _ref10.getters;\n    return new Promise(function (resolve, reject) {\n      // console.log(confirmaPayCart)\n      axios({\n        url: baseURL + 'payment/success',\n        data: confirmaPayCart,\n        method: 'POST'\n      }).then(function (resp) {\n        // console.log(resp)\n        // console.log(resp.data.data)\n        resolve(resp);\n      }).catch(function (err) {\n        if (err.response) {\n          // console.log(err.response)\n          reject(err.response);\n        }\n\n        reject();\n      });\n    });\n  },\n  concierge: function concierge(_ref11, _concierge) {\n    var commit = _ref11.commit,\n        getters = _ref11.getters;\n    return new Promise(function (resolve, reject) {\n      // console.log(concierge)\n      var conciergeData = new FormData();\n      conciergeData.append('phone', _concierge.phone);\n      conciergeData.append('search', _concierge.search);\n      axios({\n        url: baseURL + 'concierge',\n        data: conciergeData,\n        method: 'POST'\n      }).then(function (resp) {\n        console.log(resp.data.message);\n        resolve(resp);\n      }).catch(function (err) {\n        reject();\n      });\n    });\n  }\n};",{"version":3,"sources":["/Users/Horpey/Documents/Horpey/Project/Web Project/Ejoya Fund-Calculator/src/store/actions.js"],"names":["axios","baseURL","actions","fetchProducts","commit","Promise","resolve","reject","url","method","then","resp","data","products","categories","catch","err","console","log","fetchVendorProductProducts","vendor","response","status","addProductToCart","context","product","searchProduct","searchVendorProduct","vendorSearch","VendorName","search","filterProduct","category","filterVendorProduct","vendorFilter","removeCartItem","productID","newCart","state","cart","filter","id","changeQuantity","productDet","productid","objIndex","findIndex","quantity","checkout","getters","prepareCheckout","cartProducts","map","item","container","uuid","cartProduct","completeCheckout","completeCheck","cancelPayment","token","tokenData","FormData","append","confirmPayment","confirmaPayCart","concierge","conciergeData","phone","message"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nconst baseURL = \"https://api.mybartty.com/api/\";\n\nexport const actions = {\n  fetchProducts({\n    commit\n  }) {\n    return new Promise((resolve, reject) => {\n      axios({\n          url: baseURL + \"products\",\n          method: \"GET\",\n        })\n        .then((resp) => {\n          // console.log(resp.data.data.products)\n          commit(\"setProducts\", resp.data.data.products);\n          //console.log(resp.data.data.products);\n          commit(\"setCategories\", resp.data.data.categories);\n          resolve(resp.data.data.products);\n        })\n        .catch((err) => {\n          console.log(err);\n          // commit('apploading', false);\n          reject(err);\n        });\n    });\n  },\n  fetchVendorProductProducts({\n    commit\n  }, vendor) {\n    return new Promise((resolve, reject) => {\n\n      axios({\n          url: baseURL + \"products/\" + vendor,\n          method: \"GET\",\n        })\n        .then((resp) => {\n          // console.log(resp.data.data.products)\n          commit(\"setProducts\", resp.data.data.products);\n          //console.log(resp.data.data.products);\n          commit(\"setCategories\", resp.data.data.categories);\n          resolve(resp.data.data.products);\n        })\n        .catch((err) => {\n          if (err.response) {\n            reject(err.response.status);\n          }\n          reject();\n        });\n    });\n  },\n  addProductToCart(context, product) {\n    context.commit(\"pushProductToCart\", product);\n    // const cartItem = context.state.cart.find(item => item.id == product.id)\n    // // find cartItem\n    // if (!cartItem) {\n    //     // pushProduct Cart\n    //     context.commit('pushProductToCart', product)\n    // } else {\n    //     // incrementItemQuantity\n    //     context.commit('incrementItemQuantity', cartItem)\n    // }\n    // context.commit('decrementProductInventory', product)\n  },\n  searchProduct({\n    commit\n  }, product) {\n    return new Promise((resolve, reject) => {\n      console.log(product);\n      axios({\n          url: baseURL + \"products?search=\" + product,\n          method: \"GET\",\n        })\n        .then((resp) => {\n          // console.log(resp.data.data.products)\n          commit(\"setProducts\", resp.data.data.products);\n          resolve();\n        })\n        .catch((err) => {\n          if (err.response) {\n            reject(err.response.status);\n          }\n          reject();\n        });\n    });\n  },\n  searchVendorProduct({\n    commit\n  }, vendorSearch) {\n    return new Promise((resolve, reject) => {\n      // console.log(vendorSearch);\n      axios({\n          url: baseURL + \"products/\" + vendorSearch.VendorName + \"?search=\" + vendorSearch.search,\n          method: \"GET\",\n        })\n        .then((resp) => {\n          // console.log(resp.data.data.products)\n          commit(\"setProducts\", resp.data.data.products);\n          resolve();\n        })\n        .catch((err) => {\n          if (err.response) {\n            reject(err.response.status);\n          }\n          reject();\n        });\n    });\n  },\n  filterProduct({\n    commit\n  }, category) {\n    return new Promise((resolve, reject) => {\n      axios({\n          url: baseURL + \"products?category=\" + category,\n          method: \"GET\",\n        })\n        .then((resp) => {\n          // console.log(resp.data.data.products)\n          commit(\"setProducts\", resp.data.data.products);\n          resolve();\n        })\n        .catch((err) => {\n          if (err.response) {\n            reject(err.response.status);\n          }\n          reject();\n        });\n    });\n  },\n  filterVendorProduct({\n    commit\n  }, vendorFilter) {\n    return new Promise((resolve, reject) => {\n\n      axios({\n          url: baseURL + \"products/\" + vendorFilter.VendorName + \"?category=\" + vendorFilter.category,\n          method: \"GET\",\n        })\n        .then((resp) => {\n          // console.log(resp.data.data.products)\n          commit(\"setProducts\", resp.data.data.products);\n          resolve();\n        })\n        .catch((err) => {\n          if (err.response) {\n            reject(err.response.status);\n          }\n          reject();\n        });\n    });\n  },\n  removeCartItem(context, productID) {\n    return new Promise((resolve, reject) => {\n      console.log(productID)\n      let newCart = context.state.cart.filter(function (product) {\n        return product.product.id !== productID;\n      });\n      console.log(newCart)\n      context.state.cart = newCart\n      this.commit('saveData')\n      // this.$store.commit(\"resetProductCart\", newCart);\n    });\n  },\n  changeQuantity(context, productDet) {\n    return new Promise((resolve, reject) => {\n      // console.log(productDet)\n      let productid = productDet.productID\n      //Find index of specific object using findIndex method.    \n      let objIndex = context.state.cart.findIndex((product => product.product.id == productid));\n      //Log object to Console.\n      // console.log(\"Before update: \", context.state.cart[objIndex])\n      //Update object's name property.\n      context.state.cart[objIndex].quantity = productDet.quantity\n      this.commit('saveData')\n\n      // this.$store.commit(\"resetProductCart\", newCart);\n    });\n  },\n  checkout({\n    commit,\n    getters\n  }) {\n    return new Promise((resolve, reject) => {\n      // console.log(getters.cartProducts)\n      // let prepareCheckout = getters.cartProducts.map(item => item.product.uuid);\n\n      const prepareCheckout = getters.cartProducts.map(item => {\n        const container = {};\n\n        container.uuid = item.product.uuid;\n        container.quantity = item.quantity;\n\n        return container;\n      })\n\n      let cartProduct = {\n        cart: prepareCheckout\n      }\n      // cartProduct.append('cart', prepareCheckout);\n\n      axios({\n          url: baseURL + 'checkout/prepare',\n          data: cartProduct,\n          method: 'POST',\n        })\n        .then(resp => {\n          // console.log(resp)\n          console.log(resp.data.data)\n          commit('checkoutData', resp.data.data);\n          resolve(resp);\n        })\n        .catch(err => {\n          if (err.response) {\n            reject(err.response.status);\n          }\n          reject();\n        });\n    });\n  },\n  completeCheckout({\n    commit,\n    getters\n  }, completeCheck) {\n    return new Promise((resolve, reject) => {\n      // console.log(completeCheck)\n\n      axios({\n          url: baseURL + 'checkout',\n          data: completeCheck,\n          method: 'POST',\n        })\n        .then(resp => {\n          // console.log(resp)\n          // console.log(resp.data.data)\n          resolve(resp);\n        })\n        .catch(err => {\n          if (err.response) {\n            // console.log(err.response)\n            reject(err.response);\n          }\n          reject();\n        });\n    });\n  },\n  cancelPayment({\n    commit\n  }, token) {\n    return new Promise((resolve, reject) => {\n\n      let tokenData = new FormData();\n      tokenData.append('token', token);\n\n      axios({\n          url: baseURL + 'payment/cancel',\n          data: tokenData,\n          method: 'POST',\n        })\n        .then(resp => {\n          resolve(resp);\n        })\n        .catch(err => {\n          reject();\n        });\n    });\n  },\n  confirmPayment({\n    commit,\n    getters\n  }, confirmaPayCart) {\n    return new Promise((resolve, reject) => {\n      // console.log(confirmaPayCart)\n\n      axios({\n          url: baseURL + 'payment/success',\n          data: confirmaPayCart,\n          method: 'POST',\n        })\n        .then(resp => {\n          // console.log(resp)\n          // console.log(resp.data.data)\n          resolve(resp);\n        })\n        .catch(err => {\n          if (err.response) {\n            // console.log(err.response)\n            reject(err.response);\n          }\n          reject();\n        });\n    });\n  },\n  concierge({\n    commit,\n    getters\n  }, concierge) {\n    return new Promise((resolve, reject) => {\n      // console.log(concierge)\n      let conciergeData = new FormData();\n      conciergeData.append('phone', concierge.phone);\n      conciergeData.append('search', concierge.search);\n\n      axios({\n          url: baseURL + 'concierge',\n          data: conciergeData,\n          method: 'POST',\n        })\n        .then(resp => {\n          console.log(resp.data.message)\n          resolve(resp);\n        })\n        .catch(err => {\n          reject();\n        });\n    });\n  },\n\n};"]}]}